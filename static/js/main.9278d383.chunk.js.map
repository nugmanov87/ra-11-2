{"version":3,"sources":["actions/actionCreators.js","actions/actionTypes.js","components/ServiceAdd.js","components/ServiceList.js","components/ServiceChange.js","App.js","reducers/serviceListReducer.js","reducers/serviceAddReducer.js","reducers/serviceChangeReducer.js","reducers/serviseIsLoadingReducer.js","store/index.js","index.js"],"names":["fetchServiceFailure","error","type","payload","fetchServiceSuccess","items","changeServiceInit","data","fetchService","id","dispatch","a","url","process","fetch","response","ok","Error","statusText","json","message","ServiceAdd","props","useSelector","state","serviceAdd","item","loading","useDispatch","handleChange","event","target","name","value","nameField","changeAddServiceField","onSubmit","price","preventDefault","method","headers","body","JSON","stringify","className","onChange","class","disabled","ServiceList","match","history","serviceList","serviceIsLoadng","isLoading","isError","useEffect","handleRemove","removeService","Fragment","onClick","console","log","map","o","key","push","ServiceChange","serviceChange","chLoading","chError","useState","firstLoad","setFirstLoad","Number","params","goBack","changeServiceField","content","changeService","App","window","location","pathname","path","component","exact","from","to","initialState","reducer","combineReducers","action","removeItem","filter","service","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9278d383.chunk.js","sourcesContent":["import {\n  CHANGE_SERVICE_FIELD,\n  CHANGE_ADD_SERVICE_FIELD,\n  CHANGE_SERVICE_CANCEL,\n  FETCH_SERVICES_REQUEST,\n  FETCH_SERVICES_FAILURE,\n  FETCH_SERVICES_SUCCESS,\n  FETCH_SERVICES_END_LOADING,\n  IS_LOADING_REQUEST,\n  IS_LOADING_FAILURE,\n  ADD_SERVICES_REQUEST,\n  ADD_SERVICES_FAILURE,\n  ADD_SERVICES_SUCCESS,\n  CHANGE_SERVICES_REQUEST,\n  CHANGE_SERVICES_FAILURE,\n  CHANGE_SERVICES_SUCCESS,\n  CHANGE_SERVICES_INIT,\n  IS_LOADING_SUCCESS,\n} from \"./actionTypes.js\";\n\nexport function changeAddServiceField(nameField, value) {\n  return { type: CHANGE_ADD_SERVICE_FIELD, payload: { nameField, value } };\n}\n\nexport function changeServiceField(nameField, value) {\n  return { type: CHANGE_SERVICE_FIELD, payload: { nameField, value } };\n}\n\nexport function changeServiceCancel() {\n  return { type: CHANGE_SERVICE_CANCEL };\n}\n\nexport function fetchServiceRequest() {\n  return { type: FETCH_SERVICES_REQUEST };\n}\n\nexport function fetchServiceFailure(error) {\n  return { type: FETCH_SERVICES_FAILURE, payload: { error } };\n}\n\nexport function fetchServiceSuccess(items) {\n  return { type: FETCH_SERVICES_SUCCESS, payload: items };\n}\n\nexport function addServiceRequest() {\n  return { type: ADD_SERVICES_REQUEST };\n}\n\nexport function addServiceFailure(error) {\n  return { type: ADD_SERVICES_FAILURE, payload: { error } };\n}\n\nexport function addServiceSuccess() {\n  return { type: ADD_SERVICES_SUCCESS };\n}\n\nexport function changeServiceRequest() {\n  return { type: CHANGE_SERVICES_REQUEST };\n}\n\nexport function changeServiceFailure(error) {\n  return { type: CHANGE_SERVICES_FAILURE, payload: { error } };\n}\n\nexport function changeServiceSuccess() {\n  return { type: CHANGE_SERVICES_SUCCESS };\n}\n\nexport function changeServiceInit(data) {\n  return { type: CHANGE_SERVICES_INIT, payload: data };\n}\n\nexport function fetchServiceEndLoading() {\n  return { type: FETCH_SERVICES_END_LOADING };\n}\n\nexport function isLoadingRequest() {\n  return { type: IS_LOADING_REQUEST };\n}\n\nexport function isLoadingFailure(error) {\n  return { type: IS_LOADING_FAILURE, payload: { error } };\n}\nexport function isLoadingSuccess() {\n  return { type: IS_LOADING_SUCCESS };\n}\n\nexport const fetchService = (id = null) => async (dispatch) => {\n  dispatch(fetchServiceRequest());\n  const url = id\n    ? `${process.env.REACT_APP_LOCAL_URL}/${id}`\n    : process.env.REACT_APP_LOCAL_URL;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const data = await response.json();\n    if (id) {\n      dispatch(changeServiceInit(data));\n    } else {\n      dispatch(fetchServiceSuccess({ data }));\n    }\n  } catch (e) {\n    dispatch(fetchServiceFailure({ error: e.message }));\n  }\n};\n\nexport const addService = (name, price) => async (dispatch) => {\n  dispatch(addServiceRequest());\n  try {\n    await fetch(process.env.REACT_APP_LOCAL_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ name, price }),\n    });\n    // eslint-disable-next-line no-undef\n    if (id) {\n      dispatch(changeServiceSuccess());\n    } else {\n      dispatch(addServiceSuccess());\n      dispatch(fetchService());\n    }\n  } catch (e) {\n    dispatch(addServiceFailure(e.message));\n  }\n};\n\nexport const changeService = (id, name, price, content) => async (dispatch) => {\n  dispatch(changeServiceRequest());\n  try {\n    // eslint-disable-next-line no-unused-vars\n    const resp = await fetch(process.env.REACT_APP_LOCAL_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ id, name, price, content }),\n    });\n    dispatch(changeServiceSuccess());\n  } catch (e) {\n    console.log(e);\n    dispatch(changeServiceFailure({ error: e.message }));\n  }\n};\n\nexport const removeService = (id) => async (dispatch) => {\n  dispatch(isLoadingRequest());\n  try {\n    await fetch(`${process.env.REACT_APP_LOCAL_URL}/${id}`, {\n      method: \"DELETE\",\n    });\n  } catch (e) {\n    dispatch(isLoadingFailure(e.message));\n  } finally {\n    dispatch(isLoadingSuccess());\n    dispatch(fetchService());\n  }\n};\n","export const ADD_SERVICE = \"ADD_SERVICE\";\nexport const REMOVE_SERVICE = \"REMOVE_SERVICE\";\nexport const CHANGE_ADD_SERVICE_FIELD = \"CHANGE_ADD_SERVICE_FIELD\";\nexport const CHANGE_SERVICE = \"CHANGE_SERVICE\";\nexport const CHANGE_SERVICE_CANCEL = \"CHANGE_SERVICE_CANCEL\";\n\nexport const FETCH_SERVICES_REQUEST = \"FETCH_SERVICES_REQUEST\";\nexport const FETCH_SERVICES_FAILURE = \"FETCH_SERVICES_FAILURE\";\nexport const FETCH_SERVICES_SUCCESS = \"FETCH_SERVICES_SUCCESS\";\nexport const FETCH_SERVICES_END_LOADING = \"FETCH_SERVICES_END_LOADING\";\n\nexport const IS_LOADING_REQUEST = \"IS_LOADING_REQUEST\";\nexport const IS_LOADING_FAILURE = \"IS_LOADING_FAILURE\";\nexport const IS_LOADING_SUCCESS = \"IS_LOADING_SUCCESS\";\n\nexport const ADD_SERVICES_REQUEST = \"ADD_SERVICES_REQUEST\";\nexport const ADD_SERVICES_FAILURE = \"ADD_SERVICES_FAILURE\";\nexport const ADD_SERVICES_SUCCESS = \"ADD_SERVICES_SUCCESS\";\n\nexport const CHANGE_SERVICE_FIELD = \"CHANGE_SERVICE_FIELD\";\nexport const CHANGE_SERVICES_REQUEST = \"CHANGE_SERVICES_REQUEST\";\nexport const CHANGE_SERVICES_FAILURE = \"CHANGE_SERVICES_FAILURE\";\nexport const CHANGE_SERVICES_SUCCESS = \"CHANGE_SERVICES_SUCCESS\";\nexport const CHANGE_SERVICES_INIT = \"CHANGE_SERVICES_INIT\";\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  changeAddServiceField,\n  addService,\n} from \"../actions/actionCreators.js\";\n\nexport default function ServiceAdd(props) {\n  const { item, loading, error } = useSelector((state) => state.serviceAdd);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    dispatch(changeAddServiceField(name, value));\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    dispatch(addService(item.name, item.price));\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {error && <div className=\"error-msg\">Произошла ошибка!</div>}\n      <input name=\"name\" onChange={handleChange} value={item.name} />\n      <input name=\"price\" onChange={handleChange} value={item.price} />\n      {!loading && (\n        <button class=\"ui inverted green button\" type=\"submit\" disabled={loading}>\n          Save\n        </button>\n      )}\n      {loading && <div className=\"ui active slow green double loader\"></div>}\n    </form>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { removeService, fetchService } from \"../actions/actionCreators.js\";\nimport ServiceAdd from \"./ServiceAdd.js\";\n\nexport default function ServiceList(props) {\n  const { match, history } = props;\n  const { items, loading, error } = useSelector((state) => state.serviceList);\n  // eslint-disable-next-line no-unused-vars\n  const { isLoading, isError } = useSelector((state) => state.serviceIsLoadng);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    // fetchService(dispatch);\n    dispatch(fetchService());\n  }, [dispatch]);\n\n  const handleRemove = (id) => {\n    dispatch(removeService(id));\n  };\n\n  const handleChange = (id) => {\n    history.push(`${match.url}/${id}`);\n  };\n\n  const handleRefresh = () => {\n    dispatch(fetchService());\n  };\n\n  if (loading) {\n    return <div className=\"ui active slow green double loader\"></div>;\n  }\n\n  if (error) {\n    return (\n      <React.Fragment>\n        <div className=\"error-msg\">Произошла ошибка!</div>\n        <button class=\"ui red basic button\" onClick={handleRefresh}>\n          Refresh\n        </button>\n      </React.Fragment>\n    );\n  }\n\n  console.log(match.url);\n\n  return (\n    <React.Fragment>\n      <ServiceAdd />\n      <ul>\n        {items &&\n          items.map((o) => (\n            <li key={o.id}>\n              {o.name} {o.price}\n              <button className=\"button btn\" onClick={() => handleChange(o.id)}>\n                <i class=\"edit icon\"></i>\n              </button>\n              <button onClick={() => handleRemove(o.id)} disabled={isLoading}>\n                <i class=\"trash icon\"></i>\n              </button>\n            </li>\n          ))}\n      </ul>\n    </React.Fragment>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  changeServiceField,\n  changeService,\n  fetchService,\n} from \"../actions/actionCreators.js\";\n\nexport default function ServiceChange(props) {\n  const { match, history } = props;\n  const { item, chLoading, chError } = useSelector(\n    (state) => state.serviceChange\n  );\n  const { loading, error } = useSelector((state) => state.serviceList);\n  const [firstLoad, setFirstLoad] = useState(true);\n  const dispatch = useDispatch();\n\n  const id = Number(match.params.id);\n\n  useEffect(() => {\n    if (!firstLoad && !chLoading) {\n      history.goBack();\n    }\n    if (firstLoad) {\n      setFirstLoad(false);\n      // fetchService(dispatch, id);\n      dispatch(fetchService(id));\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, chLoading]);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    dispatch(changeService(id, item.name, item.price, item.content));\n  };\n\n  const handleCancel = () => {\n    history.goBack();\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    dispatch(changeServiceField(name, value));\n  };\n\n  const handleBack = () => {\n    history.goBack();\n  };\n\n  if (loading) {\n    return <div className=\"ui active slow green double loader\"></div>;\n  }\n\n  if (error) {\n    return (\n      <div>\n        <div className=\"error-msg\">Произошла ошибка!</div>\n        <button class=\"ui red basic button\" onClick={handleBack}>\n          Назад\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <form\n        onSubmit={handleSubmit}\n        disabled={chLoading}\n        className=\"change-form\"\n      >\n        <label>Название</label>\n        <input name=\"name\" onChange={handleChange} value={item.name} />\n        <label>Стоимость</label>\n        <input name=\"price\" onChange={handleChange} value={item.price} />\n        <label>Описание</label>\n        <input name=\"content\" onChange={handleChange} value={item.content} />\n        <div className=\"buttons\">\n          <button type=\"button\" onClick={handleCancel}>\n            Отмена\n          </button>\n          {!chLoading && <button type=\"submit\">Сохранить</button>}\n        </div>\n      </form>\n      {chLoading && <div className=\"ui active slow green double loader\"></div>}\n      {chError && <p>{chError.message}</p>}\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport \"./App.css\";\n// eslint-disable-next-line\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\n\nimport ServiceList from \"./components/ServiceList.js\";\nimport ServiceChange from \"./components/ServiceChange.js\";\n\nexport default function App(props) {\n  const url = window.location.pathname;\n  return (\n    <React.Fragment>\n      <Router>\n        <Switch>\n          <Route path={`${url}services/:id`} component={ServiceChange} />\n          <Route path={`${url}services`} component={ServiceList} />\n          <Redirect exact from={`${url}`} to={`${url}services`} />\n        </Switch>\n      </Router>\n    </React.Fragment>\n  );\n}\n","import {\n  REMOVE_SERVICE,\n  FETCH_SERVICES_REQUEST,\n  FETCH_SERVICES_FAILURE,\n  FETCH_SERVICES_SUCCESS,\n  CHANGE_SERVICES_INIT,\n} from \"../actions/actionTypes.js\";\n\nconst initialState = {\n  items: [],\n  loading: false,\n  error: null,\n};\n\nexport default function serviceListReducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_SERVICES_REQUEST:\n      return { ...state, loading: true, error: null };\n    case FETCH_SERVICES_FAILURE:\n      const { error } = action.payload;\n      return { ...state, loading: false, error };\n    case FETCH_SERVICES_SUCCESS:\n      const { data } = action.payload;\n      return { ...state, items: data, loading: false, error: null };\n    case REMOVE_SERVICE:\n      const removeItem = action.payload;\n      return state.items.filter((service) => service.id !== removeItem.id);\n    case CHANGE_SERVICES_INIT:\n      return { ...state, loading: false, error: null };\n    default:\n      return state;\n  }\n}\n","import {\n  CHANGE_ADD_SERVICE_FIELD,\n  ADD_SERVICES_REQUEST,\n  ADD_SERVICES_SUCCESS,\n  ADD_SERVICES_FAILURE,\n} from \"../actions/actionTypes.js\";\n\nconst initialState = {\n  item: { name: \"\", price: \"\" },\n  loading: false,\n  error: null,\n};\n\nexport default function serviceAddReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_ADD_SERVICE_FIELD:\n      const { nameField, value } = action.payload;\n      return {\n        ...state,\n        item: {\n          ...state.item,\n          [nameField]: value,\n        },\n      };\n\n    case ADD_SERVICES_REQUEST:\n      return { ...state, loading: true, error: null };\n    case ADD_SERVICES_SUCCESS:\n      return { ...initialState };\n    case ADD_SERVICES_FAILURE:\n      const { error } = action.payload;\n      return { ...state, loading: false, error };\n\n    default:\n      return state;\n  }\n}\n","import {\n  CHANGE_SERVICE_FIELD,\n  CHANGE_SERVICES_REQUEST,\n  CHANGE_SERVICES_FAILURE,\n  CHANGE_SERVICES_SUCCESS,\n  CHANGE_SERVICES_INIT,\n} from \"../actions/actionTypes.js\";\n\nconst initialState = {\n  item: {\n    id: \"\",\n    name: \"\",\n    price: \"\",\n    content: \"\",\n  },\n  chLoading: false,\n  chError: null,\n};\n\nexport default function serviceAddReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_SERVICE_FIELD:\n      const { nameField, value } = action.payload;\n      return {\n        ...state,\n        item: {\n          ...state.item,\n          [nameField]: value,\n        },\n      };\n\n    case CHANGE_SERVICES_REQUEST:\n      return { ...state, chLoading: true, chError: null };\n\n    case CHANGE_SERVICES_FAILURE:\n      const { error } = action.payload;\n      return { ...state, chLoading: false, chError: error };\n\n    case CHANGE_SERVICES_SUCCESS:\n      return { ...initialState };\n\n    case CHANGE_SERVICES_INIT:\n      console.log(action.payload);\n      const { id, name, price, content } = action.payload;\n      return {\n        ...state,\n        chLoading: false,\n        chError: null,\n        item: {\n          id,\n          name,\n          price,\n          content,\n        },\n      };\n\n    default:\n      return state;\n  }\n}\n","import {\n  IS_LOADING_REQUEST,\n  IS_LOADING_FAILURE,\n  IS_LOADING_SUCCESS,\n} from \"../actions/actionTypes.js\";\n\nconst initialState = {\n  isLoading: false,\n  isError: null,\n};\n\nexport default function serviceIsLoadingReducer(state = initialState, action) {\n  switch (action.type) {\n    case IS_LOADING_REQUEST:\n      return { ...state, isLoading: true };\n    case IS_LOADING_FAILURE:\n      console.log(action.payload);\n      const { error } = action.payload;\n      return { ...state, isLoading: false, isError: error };\n    case IS_LOADING_SUCCESS:\n      return { ...initialState };   \n    default:\n      return state;\n  }\n}\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport serviceListReducer from \"../reducers/serviceListReducer\";\nimport serviceAddReducer from \"../reducers/serviceAddReducer\";\nimport serviceChangeReducer from \"../reducers/serviceChangeReducer\";\nimport serviceIsLoadingReducer from \"../reducers/serviseIsLoadingReducer.js\";\n\nconst reducer = combineReducers({\n  serviceList: serviceListReducer,\n  serviceAdd: serviceAddReducer,\n  serviceChange: serviceChangeReducer,\n  serviceIsLoadng: serviceIsLoadingReducer,\n});\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}